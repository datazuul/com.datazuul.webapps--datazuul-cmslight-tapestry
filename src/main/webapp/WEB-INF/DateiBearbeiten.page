<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE page-specification PUBLIC
  "-//Apache Software Foundation//Tapestry Specification 3.0//EN"
  "http://jakarta.apache.org/tapestry/dtd/Tapestry_3_0.dtd">
<!-- generated by Spindle, http://spindle.sourceforge.net -->

<page-specification class="com.datazuul.webapps.cmslight.pages.DateiBearbeiten">
  <description>Datei bearbeiten (Dateiname und Inhalt)</description>
  
  <property-specification name="fileContent" type="java.lang.String"/>
  <property-specification name="fileName" type="java.lang.String"/>
  <property-specification name="parent" type="com.datazuul.webapps.cmslight.filesystem.HRef"/>
  <property-specification name="parentIndex" type="int"/>

  <component id="form" type="Form">
    <binding name="listener" expression="listeners.formSubmit"/>
  </component>

  <component id="navigationList" type="Foreach">
    <binding name="source" expression="visit.lastFolder.parents"/>
    <binding name="value"  expression="parent" />
    <binding name="index" expression="parentIndex" />
  </component>
  <component id="isNotLastNaviItem" type="Conditional">
    <binding name="condition" expression="parentIndex != (visit.lastFolder.numberOfParents - 1)"/>
  </component>
  <component id="navigationLink" type="DirectLink">
		<binding name="listener" expression="listeners.changeDirectory"/>
 		<binding name="parameters" expression="parent.link"/>
 		<binding name="disabled" expression="false"/>
  </component>
  <component id="navigationText" type="Insert">
    <binding name="value" expression="parent.display"/>
  </component>
  <component id="isLastNaviItem" type="Conditional">
    <binding name="condition" expression="parentIndex == (visit.lastFolder.numberOfParents - 1)"/>
  </component>
  <component id="lastNavigationLink" type="DirectLink">
		<binding name="listener" expression="listeners.changeDirectory"/>
 		<binding name="parameters" expression="link"/>
 		<binding name="disabled" expression="false"/>
  </component>
  <component id="lastNavigationText" type="Insert">
    <binding name="value" expression="parent.display"/>
  </component>

  <component id="markScript" type="Script">
    <static-binding name="script" value="DateiBearbeiten.script"/>
    <binding name="symbols" expression="scriptSymbols" />
  </component>
  <component id="isMarked" type="Conditional">
    <binding name="condition" expression="isMarked"/>
  </component>
  <component id="isNotMarked" type="Conditional">
    <binding name="condition" expression="isNotMarked"/>
  </component>
  <component id="hasPreview" type="Conditional">
    <binding name="condition" expression="hasPreview"/>
  </component>
  <component id="hasNoPreview" type="Conditional">
    <binding name="condition" expression="hasNoPreview"/>
  </component>

  <component id="btnMark" type="Submit">
    <static-binding name="onClick" value="markCMSArea()"/>
    <binding name="listener" expression="listeners.doMark"/>
    <message-binding name="label" key="markCMSArea"/>
  </component>
  <component id="btnDemark" type="Submit">
    <static-binding name="onClick" value="demarkCMSArea()"/>
    <binding name="listener" expression="listeners.doDemark"/>
    <message-binding name="label" key="demarkCMSArea"/>
  </component>
  <component id="btnPreview" type="Submit">
    <binding name="listener" expression="listeners.previewFile"/>
    <message-binding name="label" key="preview"/>
  </component>
  <component id="btnSave" type="Submit">
    <binding name="listener" expression="listeners.saveFile"/>
    <message-binding name="label" key="save"/>
  </component>

  <component id="txtFileContent" type="TextArea">
    <binding name="value" expression="fileContent"/>
  </component>

  <component id="txtFilename" type="TextField">
    <binding name="value" expression="fileName"/>
  </component>
  
</page-specification>
