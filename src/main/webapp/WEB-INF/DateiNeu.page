<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE page-specification PUBLIC
  "-//Apache Software Foundation//Tapestry Specification 3.0//EN"
  "http://jakarta.apache.org/tapestry/dtd/Tapestry_3_0.dtd">
<!-- generated by Spindle, http://spindle.sourceforge.net -->

<page-specification class="com.datazuul.webapps.cmslight.pages.DateiNeu">
  <description>Anlegen einer neuen Datei/eines neuen Verzeichnisses</description>

  <property-specification name="file" type="org.apache.tapestry.request.IUploadFile"/>
  <property-specification name="fileName" type="java.lang.String"/>
  <property-specification name="filepath" type="java.lang.String" persistent="yes"/>
  <property-specification name="fileType" type="java.lang.String"/>
  <property-specification name="parent" type="com.datazuul.webapps.cmslight.filesystem.HRef"/>
  <property-specification name="parentIndex" type="int"/>
  <property-specification name="template" type="java.io.File"/>
  
<!--
  <component id="lblDirectory" type="FieldLabel">
    <binding name="field" expression="components.radioDirectory"/>
    <message-binding name="displayName" key="directory"/>
  </component>
  <component id="lblFile" type="FieldLabel">
    <binding name="field" expression="components.radioFile"/>
    <message-binding name="displayName" key="file"/>
  </component>
  <component id="lblFilename" type="FieldLabel">
    <binding name="field" expression="components.fieldFilename"/>
    <message-binding name="displayName" key="file-/directoryname"/>
  </component>
-->
  <component id="form" type="Form">
    <binding name="listener" expression="listeners.formSubmit"/>
  </component>

  <component id="navigationList" type="Foreach">
    <binding name="source" expression="visit.lastFolder.parents"/>
    <binding name="value"  expression="parent" />
    <binding name="index" expression="parentIndex" />
  </component>
  <component id="isNotLastNaviItem" type="Conditional">
    <binding name="condition" expression="parentIndex != (visit.lastFolder.numberOfParents - 1)"/>
  </component>
  <component id="navigationLink" type="DirectLink">
		<binding name="listener" expression="listeners.changeDirectory"/>
 		<binding name="parameters" expression="parent.link"/>
 		<binding name="disabled" expression="false"/>
  </component>
  <component id="navigationText" type="Insert">
    <binding name="value" expression="parent.display"/>
  </component>
  <component id="isLastNaviItem" type="Conditional">
    <binding name="condition" expression="parentIndex == (visit.lastFolder.numberOfParents - 1)"/>
  </component>
  <component id="lastNavigationLink" type="DirectLink">
		<binding name="listener" expression="listeners.changeDirectory"/>
 		<binding name="parameters" expression="filepath"/>
 		<binding name="disabled" expression="false"/>
  </component>
  <component id="lastNavigationText" type="Insert">
    <binding name="value" expression="parent.display"/>
  </component>

  <component id="radioDirectory" type="Radio">
    <static-binding name="value">directory</static-binding>
  </component>
  <component id="radioFile" type="Radio">
    <static-binding name="value">file</static-binding>
  </component>

  <component id="radioGroup" type="RadioGroup">
    <binding name="selected" expression="fileType"/>
  </component>

  <component id="submit" type="Submit">
    <binding name="listener" expression="listeners.saveItem"/>
    <message-binding name="label" key="save"/>
  </component>

  <component id="fieldFilename" type="TextField">
    <binding name="value" expression="fileName"/>
  </component>

  <component id="upload" type="Upload">
    <binding name="file" expression="file"/>
  </component>

  <component id="templates" type="PropertySelection">
    <binding name="model" expression="templatesModel"/>
    <binding name="value" expression="template"/>
  </component>

</page-specification>